@{
  ViewData["Title"] = "Productos";
}

<link rel="stylesheet" href="~/css/productos.css" asp-append-version="true" />

<div class="text-center">
  <h1 class="display-4">Productos</h1>
</div>

<div>
  <label for="BuscarMarcas" class="form-label titulo"></label>
                @Html.DropDownList("BuscarMarcas", null, htmlAttributes: new
                  {
                    @class = " form-control input-transparent ",
                    onchange="ListadoProductos()"
                  })
  <label for="BuscarSubRubros" class="form-label titulo"></label>
                @Html.DropDownList("BuscarSubRubros", null, htmlAttributes: new
                  {
                    @class = " form-control input-transparent ",
                    onchange="ListadoProductos()"
                  })
</div>


<!-- Modal -->
<div class="modal fade" id="productoModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="tituloModal">Nuevo Producto</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form>
          <input type="hidden" id="ProductoID" value="0">

          <label for="MarcaID" class="form-label">Marca</label>
          @Html.DropDownList("MarcaID", null, htmlAttributes: new { @class = "form-control" })
          <span id="errorMensajeMarca" style="color:red; display:none; font-size: 15px; padding-left: 4px;">
            <i class="fa-solid fa-circle-exclamation pe-1"></i>Debe seleccionar una marca
          </span>

          <label for="SubRubroID" class="form-label">Subrubro</label>
          @Html.DropDownList("SubRubroID", null, htmlAttributes: new { @class = "form-control" })
          <span id="errorMensajeSubRubro" style="color:red; display:none; font-size: 15px; padding-left: 4px;">
            <i class="fa-solid fa-circle-exclamation pe-1"></i>Debe seleccionar un subrubro
          </span>

          <label for="NombreProducto" class="form-label">Nombre</label>
          <input type="text" id="NombreProducto" class="form-control" oninput="textoMayuscula(this)">
          <!--llama a la funcion que convierte lo que escribo en los input a mayuscula-->
          <span id="errorMensajeNombreProducto" style="color:red; display:none; font-size: 15px; padding-left: 4px;">
            <i class="fa-solid fa-circle-exclamation pe-1"></i>Debe ingresar un nombre
          </span>

          <label for="Descripcion" class="form-label">Descripcion</label>
          <input type="text" id="Descripcion" class="form-control" oninput="textoMayuscula(this)">
          <span id="errorMensajeDescripcion" style="color:red; display:none; font-size: 15px; padding-left: 4px;">
            <i class="fa-solid fa-circle-exclamation pe-1"></i>Debe ingresar una descripcion
          </span>

          <label for="Precio" class="form-label">Precio</label>
          <input type="number" id="Precio" class="form-control">
          <span id="errorMensajePrecio" style="color:red; display:none; font-size: 15px; padding-left: 4px;">
            <i class="fa-solid fa-circle-exclamation pe-1"></i>Debe ingresar un precio
          </span>

        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn-ovalo ancho-boton" data-bs-dismiss="modal"
          onclick="LimpiarModal()">Cerrar</button>
        <button type="button" class="btn-ovalo ancho-boton" onclick="GuardarProducto()">Guardar</button>
      </div>
    </div>
  </div>
</div>

<table class="table table-light table-hover">
  <thead>
    <tr>
      <th>Producto</th>
      <th>Descripcion</th>
      <th>Precio</th>
      <th>SubRubro</th>
      <th>Marca</th>
      <th>Editar</th>
      <th>Eliminar</th>
    </tr>
  </thead>
  <tbody id="tbody-productos"></tbody>
</table>

<!--Boton para agregar nuevo producto-->
<div class="d-flex justify-content-end align-items-center bd-highlight mb-2 fixed-bottom div-boton ">
  <div class="p-2 bd-highlight d-flex "><button type="submit" class="btn btn-primary mt-3 botonProducto"
      data-bs-toggle="modal" data-bs-target="#productoModal"><i class="fa-solid fa-plus">add</i></button>
  </div>
</div>

@section Scripts {
  <script src="~/js/productos-1.0.0.js"></script>
}









@* <div class="p-3">
TABLA
<div class="mt-2" style="heigth: 100%;">
<div class="card shadow-sm">
<div class="card-header row m-0 p-2">
<div class="col-md-6 d-flex align-items-center">
<button type="button" class="btn boton-color" onclick="NuevoProducto()" data-bs-toggle="modal"
data-bs-target="#ModalProductos">
<i class="fa-solid fa-plus fa-2x"></i>
</button>
</div>
<table class="table table-light table-hover">
<thead>
<tr>
<th>Nombre</th>
<th>Precio</th>
<th class="text-center">Cantidad</th>
<th class="text-center">Descripcion</th>
<th class="text-center">Tipo de Producto</th>
<th class="text-center">Estado</th>
<th style="width: 60px"></th>
<th style="width: 60px"></th>
<th style="width: 60px"></th>
</tr>
</thead>
<tbody id="tbody-Productos">
</tbody>
</table>
</div>
</div>
</div>
</div>

MODAL
<div class="modal" tabindex="-1" id="ModalProductos">
<div class="modal-dialog modal-md">
<div class="modal-content container-modal">
<div class="modal-header">
<h5 class="modal-title text-color" id="ModalTitulo">Productos</h5>
<button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
</div>
<div class="modal-body">
<form>
<div class="row">
<p><b>Los campos marcados con un asterisco (*) son obligatorios</b></p>
<input type="hidden" id="ProductoID" value="0" />
<div class="mb-2 col-md-12">
<label for="ProductoNombre" class="form-label fw-bold">Nombre</label>
<input type="text" class="form-control" id="ProductoNombre" style="text-transform: uppercase"
placeholder="">
<span id="errorMensajeNombre" style="color:red; display:none; font-size: 15px; padding-left: 4px;">
<i class="fa-solid fa-circle-exclamation pe-1"></i>Debe ingresar un nombre
</span>
</div>

<div class="mb-2 col-md-6">
<label for="ProductoPrecio" class="form-label fw-bold">Precio</label>
<input type="number" class="form-control" id="ProductoPrecio" placeholder="">
<span id="errorMensajePrecio" style="color:red; display:none; font-size: 15px; padding-left: 4px;">
<i class="fa-solid fa-circle-exclamation pe-1"></i>Debe ingresar el precio
</span>
</div>

<div class="mb-2 col-md-6">
<label for="ProductoCantidad" class="form-label fw-bold">Cantidad</label>
<input type="number" class="form-control" id="ProductoCantidad" style="text-transform: uppercase"
placeholder="">
<span id="errorMensajeCantidad" style="color:red; display:none; font-size: 15px; padding-left: 4px;">
<i class="fa-solid fa-circle-exclamation pe-1"></i>Debe ingresar una cantidad
</span>
</div>

<div class="mb-2">
<label for="ProductoDescripcion" class="form-label fw-bold">Descripcion</label>
<input type="text" class="form-control" id="ProductoDescripcion" style="text-transform: uppercase"
placeholder="">
<span id="errorMensajeDescripcion" style="color:red; display:none; font-size: 15px; padding-left: 4px;">
<i class="fa-solid fa-circle-exclamation pe-1"></i>Debe ingresar una descripcion
</span>
</div>


<input type="hidden" class="form-check-input" id="ProductoEstado" value="true" />


<div class="mb-2">
<label for="TipoProductoID" class="form-label fw-bold">Tipo de Productos</label>
@Html.DropDownList("TipoProductoID", null, htmlAttributes: new { @class = "form-control" })
<span id="errorMensajeTipoProducto"
style="color:red; display:none; font-size: 15px; padding-left: 4px;">
<i class="fa-solid fa-circle-exclamation pe-1"></i>Debe seleccionar el tipo de producto
</span>
</div>
</div>
</form>
</div>
<div class="modal-footer">
<button type="button" onclick="LimpiarModal()" class="btn btn-secondary boton-color2"
data-bs-dismiss="modal">Cancelar</button>
<button type="button" onclick="GuardarRegistro()" class="btn boton-color">Guardar</button>
</div>
</div>
</div>
</div>
</div>





@section Scripts {
<script src="~/js/Productos.js"></script>
} *@